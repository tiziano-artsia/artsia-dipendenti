@import "tailwindcss";

@theme {
  --font-sans: system-ui, sans-serif;
}
/* Safe area bottom per iOS home indicator */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.pt-safe-mobile {
  padding-top: env(safe-area-inset-top, 0px);
}

/* Desktop: rimuovi padding */
@media (min-width: 769px) {
  .pt-safe-mobile {
    padding-top: 0 !important;
  }
}
/* ==================== Mobile Layout Fixes ==================== */

/* Container principale con padding bottom per bottom nav */
@media (max-width: 768px) {
  /* Aggiungi spazio per bottom navigation */
  main,
  [class*="min-h-screen"] {
    padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0px)) !important;
  }

  /* Header più opaco quando scrolli */
  header {
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(24px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(24px) saturate(180%) !important;
  }

  /* Bottom nav più opaco */
  nav[class*="fixed bottom-0"] {
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(24px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(24px) saturate(180%) !important;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05) !important;
  }
}


/* ==================== iOS Gestures ==================== */

@supports (-webkit-touch-callout: none) {
  html, body {
    overscroll-behavior-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  body {
    touch-action: pan-x pan-y !important;
  }

  * {
    -webkit-touch-callout: default;
    -webkit-user-select: auto;
    user-select: auto;
  }

  button,
  a,
  [role="button"],
  input,
  select,
  textarea,
  [onclick] {
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    user-select: none !important;
  }
}

/* Previeni content sotto Dynamic Island */
@supports (-webkit-touch-callout: none) {
  /* È iOS */
  @media (max-width: 768px) {
    body {
      /* Previeni scroll sotto header */
      scroll-padding-top: calc(env(safe-area-inset-top, 0px) + 3.5rem);
    }

    /* Header fisso con z-index alto */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
    }
  }
}
